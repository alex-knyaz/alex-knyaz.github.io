import{ad as e,a1 as a,ae as t,P as r,a9 as n,ac as o,af as s,T as i,ag as l,ah as u,ai as d,aj as c,ak as v,q as f,o as h,l as p,e as m,al as w,am as g,an as y,ao as _,ap as b,aq as E,ar as L,d as x,v as T,h as j,x as k,B as S}from"./runtime.5iT3v_-W.js";import{r as q,b as B}from"./disclose-version.DQz_gQz7.js";const M=new Set,W=new Set;function C(n,s,i,l){function u(n){if(l.capture||P.call(s,n),!n.cancelBubble)return function(n){var o=t,s=r;e(null),a(null);try{return n()}finally{e(o),a(s)}}((()=>i.call(this,n)))}return n.startsWith("pointer")||n.startsWith("touch")||"wheel"===n?o((()=>{s.addEventListener(n,u,l)})):s.addEventListener(n,u,l),u}function N(e,a,t,r,o){var s={capture:r,passive:o},i=C(e,a,t,s);a!==document.body&&a!==window&&a!==document||n((()=>{a.removeEventListener(e,i,s)}))}function O(e){for(var a=0;a<e.length;a++)M.add(e[a]);for(var t of W)t(e)}function P(n){var o=this,l=o.ownerDocument,u=n.type,d=n.composedPath?.()||[],c=d[0]||n.target,v=0,f=n.__root;if(f){var h=d.indexOf(f);if(-1!==h&&(o===document||o===window))return void(n.__root=o);var p=d.indexOf(o);if(-1===p)return;h<=p&&(v=h)}if((c=d[v]||n.target)!==o){s(n,"currentTarget",{configurable:!0,get:()=>c||l});var m=t,w=r;e(null),a(null);try{for(var g,y=[];null!==c;){var _=c.assignedSlot||c.parentNode||c.host||null;try{var b=c["__"+u];if(void 0!==b&&!c.disabled)if(i(b)){var[E,...L]=b;E.apply(c,[n,...L])}else b.call(c,n)}catch(x){g?y.push(x):g=x}if(n.cancelBubble||_===o||null===_)break;c=_}if(g){for(let e of y)queueMicrotask((()=>{throw e}));throw g}}finally{n.__root=o,delete n.currentTarget,e(m),a(w)}}}const V=["touchstart","touchmove"];function $(e,a){var t=null==a?"":"object"==typeof a?a+"":a;t!==(e.__t??=e.nodeValue)&&(e.__t=t,e.nodeValue=null==t?"":t+"")}function D(e,a){return F(e,a)}function z(e,a){l(),a.intro=a.intro??!1;const t=a.target,r=j,n=m;try{for(var o=u(t);o&&(8!==o.nodeType||o.data!==d);)o=c(o);if(!o)throw v;f(!0),h(o),p();const r=F(e,{...a,anchor:o});if(null===m||8!==m.nodeType||m.data!==w)throw g(),v;return f(!1),r}catch(s){if(s===v)return!1===a.recover&&y(),l(),_(t),f(!1),D(e,a);throw s}finally{f(r),h(n),q()}}const A=new Map;function F(e,{target:a,anchor:t,props:n={},events:o,context:s,intro:i=!0}){l();var u=new Set,d=e=>{for(var t=0;t<e.length;t++){var r=e[t];if(!u.has(r)){u.add(r);var n=(s=r,V.includes(s));a.addEventListener(r,P,{passive:n});var o=A.get(r);void 0===o?(document.addEventListener(r,P,{passive:n}),A.set(r,1)):A.set(r,o+1)}}var s};d(b(M)),W.add(d);var c=void 0,v=E((()=>{var i=t??a.appendChild(L());return x((()=>{s&&(T({}),S.c=s);o&&(n.$$events=o),j&&B(i,null),c=e(i,n)||{},j&&(r.nodes_end=m),s&&k()})),()=>{for(var e of u){a.removeEventListener(e,P);var r=A.get(e);0==--r?(document.removeEventListener(e,P),A.delete(e)):A.set(e,r)}W.delete(d),G.delete(c),i!==t&&i.parentNode?.removeChild(i)}}));return G.set(c,v),c}let G=new WeakMap;function H(e){const a=G.get(e);a&&a()}export{O as d,N as e,z as h,D as m,$ as s,H as u};
